import pyfiglet
import subprocess
import random

class AsciiArtPrinter(object):
    def draw_ascii_banner_random_font(self, text):
        fontlist = self._get_font_list()
        chosen_font = self._chose_random_font(fontlist)
        self._output_text(chosen_font, text)

    def _get_font_list(self):
        fonts_output = subprocess.run(["pyfiglet","-l"], encoding='utf-8', stdout=subprocess.PIPE)
        fontlist = []
        for line in fonts_output.stdout.split('\n'):
            fontlist.append(line)
        return fontlist
    
    def _chose_random_font(self, fontlist):
        return random.choice(fontlist)
    
    def _output_text(self, chosen_font, chosen_text):
        result = pyfiglet.figlet_format(chosen_text, font = chosen_font)
        print (result)
